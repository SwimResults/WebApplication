<h1>{{'EVENT.PAGE.EVENT_TITLE_EVENT' | translate}} {{eventNumber}}<ng-container *ngIf="event && event.style"> - {{event.relay_distance ? event.relay_distance : event.distance}}m {{'COMMON.STYLE.' + event.style.name + '.NAME' | translate}} {{'COMMON.GENDER.' + event.gender + '.NAME' | translate}}</ng-container></h1>

<ng-container *ngIf="meeting && event">
  <div class="event-files">
    <a
      class="sr-btn"
      *ngIf="meeting.data.has_ftp_start_list"
      [href]="getUrlFromMask(meeting.data.ftp_start_list_mask)"
    ><sr-btn><mat-icon>description</mat-icon> <span>Meldeergebnis</span></sr-btn></a>
    <br>
    <a
      *ngIf="meeting.data.has_ftp_result_list && event.certified"
      [href]="getUrlFromMask(meeting.data.ftp_result_list_mask)"
    ><sr-btn><mat-icon>description</mat-icon> <span>Protokoll</span></sr-btn></a>
  </div>
</ng-container>

<sr-spinner *ngIf="fetchingStarts.fetching"></sr-spinner>
<ng-container *ngIf="!fetchingStarts.fetching">

  <sr-no-content *ngIf="starts.length <= 0">
    {{'EVENT.PAGE.NO_STARTS_MESSAGE' | translate}}
  </sr-no-content>

  <ng-container *ngIf="starts.length > 0">

    <sr-panel>
      <mat-button-toggle-group>
        <mat-button-toggle value="lanes" checked="true"  (click)="changeListMode('lanes')">Bahnverteilung</mat-button-toggle>
        <mat-button-toggle value="results" (click)="changeListMode('results')">Zielanschlag</mat-button-toggle>
      </mat-button-toggle-group>
    </sr-panel>

    <sr-panel class="heat-starts"
              *ngFor="let heat of heats.keys()"
              panelTitle="{{'EVENT.PAGE.HEAT' | translate}}{{' ' + heat + '/' + heats.size}}"
              [heatForTimes]="heatData.get(heat)"
    >
      <sr-start-list *ngIf="starts.length > 0"
        [starts]="heats.get(heat)"
        [config]="config"
        [fetching]="fetchingStarts"
      ></sr-start-list>
    </sr-panel>
  </ng-container>
</ng-container>
